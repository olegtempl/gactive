# Модуль гитхаб активности.

Этот проект является форком [продолжением идеи модуля](https://github.com/caseyscarborough/github-activity) и [этого модуля](https://github.com/diglabby/github-activity) . Этот форк может отражать активность не только какого-то одного аккаунта или репозитория, а позволяет выводить на экран неограниченное их количество.

## Инструкция по установке

### Шаг 1
Для начала скачайте [этот архив с github](https://github.com/diglabby/github-activity/archive/master.zip), после чего содержимое папки **github-activity-master** внутри архива необходимо распаковать в корень вашего сайта.

**Далее переименуйте эту папку в _github-activity_, или вам придётся менять пути к файлам, прописанные в шаге 2.**

Вместо скачивания и распаковки архива вы можете сделать клон модуля в корне сайта через git:

```bash
cd <path to root folder of your web-site>
git clone https://github.com/diglabby/github-activity.git
```

### Шаг 2

Подключаем необходимые файлы внутри тега <head> на странице, где вы хотите разместить модуль, при необходимости меняя пути к файлам, указанным в атрибутах **href** и **src**:

```html
<head>
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/octicons/2.0.2/octicons.min.css">
	<link rel="stylesheet" href="github-activity/src/github-activity.css">

	<script src="//code.jquery.com/jquery-1.11.0.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min.js"></script>
	<script type="text/javascript" src="github-activity/src/github-activity.js"></script>
</head>
```

### Шаг 3

Теперь мы можем настроить модуль под ваши нужды. Разместите этот код внутри тега <body> на html-страницах, где вы хотите видеть модуль гитхаб-активности.
	
```js
<script>
GitHubActivity.feed({
  username: "diglabby",
  repository: "your-repository",  // optional
  handler: "github-activity/handler.php", // optional
  repositories: {
  	username: ["repository1","repository2","repository3"],
  	Username1:"Username1"
  	}, // optional
  selector: "#feed",
  limit: 20 // optional
});
</script>
```

Также вы можете разместить приведённый выше код в отдельный js-скрипт, к примеру **gha.js**. В таком случае не забудьте удалить html-тег <script></script> и прописать путь к этому файлу в **head** вашей веб-страницы:

```html
<script type="text/javascript" src="gha.js"></script>
```

#### Возможны два варианта использования модуля:
1. Оригинальная функциональность. Для ее достижения мы не указываем свойства **handler** и **repositories**. Модуль будет отображать только активность одного пользователя, указанного в свойстве **username** или активность одного репозитория, принадлежащего этому пользователю; репозиторий указывается в  свойстве **repository**.
2. Отображение активности множества разных репозиториев или юзеров. Для этого:
	1. В поле **username** указываем ник пользователя, сведения о котором будут показываться в шапке модуля.
	2. В свойстве **handler** мы указываем путь до файла *handler.php*, который находится в папке *github-activity* или *github-activity-master*.
	3. В свойстве **repositories** указывается объект, хранящий список пользователей и/или отдельных репозиториев, которые необходимо отобразить в модуле гит-хаб активности.
   
Список указывается следующим образом:

1. Для добавления всей активности конкретного пользователя, создаётся ключ в виде имени пользователя, которому строкой присвоено значение в виде этого же имени:  
	```js
	Username1:"Username1"
	```
2. Для добавления активности выбранных репозиториев одного пользователя, создаётся свойство с ключём в виде имени пользователя, хранящего значения в виде массива. Каждый элемент этого массива должен являться именем репозитория, принадлежащего указанному пользователю.
	```js
	username: ["repository1","repository2","repository3"]
	```
   
**По итогу свойство repositories должно иметь примерно такой вид:**
```js
repositories: {
  username:["repository1","repository2","repository3"],
  Username1:"Username1"
  }
```

**Примечания.** Количество пользователей или репозиториев, которые можно добавить для отображения в модуле, не ограничено. Также не забывайте ставить запятые после каждого указанного свойства в объекте **repositories** (кроме самого последнего, там запятая не нужна). В необязательном свойстве **limit** вы можете указать максимальное количество записей гитхаб-активности, подгружаемых в модуль. В обязательном свойстве **selector** указывается css-селектор элемента, куда будет загружаться модуль. Значение этого свойства можно оставить указанным по умолчанию.

## Шаг 4

Вставьте на вашу html-страницу в месте, где вы хотите видеть модуль, следующий код:

```html
<div id="feed"></div>
```

Атрибут **id** должен соответствовать свойству **selector**, которое вы указывали в конфигурации модуля.

**Ура!** Если всё настроено верно, модуль должен отображать на вашем сайте последнюю гитхаб-активность!
   
#### Внимание! На статичных сайтах будет работать только первый вариант использования модуля (описано в шаге 3). Для второго варианта требуется наличие сервера, обрабатывающего php-файлы.

## Комментарии и форки приветствуются.
